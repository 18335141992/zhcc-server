{"version":3,"sources":["webpack:///./src/App.vue?bec9","webpack:///./src/App.vue","webpack:///./src/store/mutations.js","webpack:///./src/store/mutation-types.js","webpack:///./src/store/actions.js","webpack:///./src/store/getters.js","webpack:///./src/store/index.js","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/api/router.js","webpack:///src/views/login/index.vue","webpack:///./src/api/auth.js","webpack:///./src/views/login/index.vue?af03","webpack:///./src/views/login/index.vue","webpack:///./src/utils/request.js"],"names":["App","render","_h","this","$createElement","_c","_self","staticStyle","height","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","store_mutations","mutations","defineProperty_default","state","data","showLoading","_mutations","breadcrumbItems","actions","setLoading","_ref","commit","setBreadcurmbItems","_ref2","store_getters","vue_esm","use","vuex_esm","store","Store","getters","vue_router_esm","router","routes","mode","base","path","name","component","login","meta","requiresAuth","redirect","sessionStorage","routers","indexRouter","resolve","e","then","__WEBPACK_AMD_REQUIRE_ARRAY__","bind","catch","oe","children","toConsumableArray_default","JSON","parse","childRouters","_loop","code","routerProps","properties","childRouter","url","routerId","nameFullPath","push","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","value","err","return","generateChildRouters","addRoutes","generateIndexRouter","beforeEach","to","from","token","getItem","query","fullPath","afterEach","breadCrumbItems","title","fullPathSplit","split","forEach","item","index","routerBreadCrumb","length","app","$store","dispatch","src_router","config","productionTip","element_ui_common_default","a","el","template","components","listRouter","search","Object","__WEBPACK_IMPORTED_MODULE_0__utils_request__","method","params","offset","limit","getRouterById","listByParentId","parentId","saveRouter","updateRouter","removeRouter","listAllRouter","includeLocked","displayLoading","loginForm","username","password","rules","required","message","trigger","computed","extends_default","methods","doLogin","_this","$refs","validate","valid","loginName","request","lib_default","stringify","response","setItem","stringify_default","userId","initIndexRouter","decodeURIComponent","$route","$router","error","$message","showClose","type","concat","console","log","views_login","_vm","staticClass","ref","model","label-position","label-width","autoComplete","_v","prop","auto-complete","placeholder","callback","$$v","$set","expression","slot","width","nativeOn","click","$event","preventDefault","Component","ssrContext","__webpack_exports__","service","create","baseURL","timeout","interceptors","headers","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","reject","errCode","querry","currentRoute"],"mappings":"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","file":"static/js/app.e28921ced8d09c804042.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\"},attrs:{\"id\":\"app\"}},[_c('transition',[_c('keep-alive',[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5801f264\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5801f264\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import * as types from './mutation-types'\n\nconst mutations = {\n    [types.SET_LOADING]: (state, data) => {\n        state.showLoading = data\n    },\n    [types.SET_BREADCRUMB_ITEMS]: (state, data) => {\n        state.breadcrumbItems = data\n    }\n}\n\nexport default mutations\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","export const SET_LOADING = 'SET_LOADING'\nexport const SET_BREADCRUMB_ITEMS = 'SET_BREADCRUMB_ITEMS'\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","import * as types from './mutation-types'\n\nexport default {\n    setLoading({commit}, data) {\n        commit(types.SET_LOADING, data)\n    },\n    setBreadcurmbItems({commit}, data) {\n        commit(types.SET_BREADCRUMB_ITEMS, data)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","const getters = {\n    showLoading: state => state.showLoading,\n    breadcrumbItems: state => state.breadcrumbItems\n}\n\nexport default getters\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","import Vue from \"vue\"\nimport Vuex from 'vuex'\nimport mutations from './mutations'\nimport actions from './actions'\nimport getters from './getters'\n\nVue.use(Vuex);\n\nconst state = {\n    showLoading: false,\n    breadcrumbItems: []\n};\n\nexport default new Vuex.Store({\n    state,\n    mutations,\n    actions,\n    getters\n});\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport LoginView from '@/views/login/index'\n\nVue.use(Router)\n\n//按需加载\n/**\n * 有时候我们想把某个路由下的所有组件都打包在同个异步 chunk 中。\n * 只需要 给 chunk 命名，提供 require.ensure 第三个参数作为 chunk 的名称。\n * Webpack 将相同 chunk 下的所有异步模块打包到一个异步块里面，\n * 这也意味着我们无须明确列出 require.ensure 的依赖（传空数组就行）。\n */\n//const Index = resolve => require(['@/views/index'], resolve)\n//const foodList = r => require.ensure([], () => r(require('@/page/foodList')), 'foodList');\n\nconst router = new Router({\n  routes: [\n    {\n      mode: 'history',\n      base: '/',\n      path: '/login',\n      name: \"login\",\n      component: LoginView,\n      meta: { requiresAuth: false }\n    },{\n      path: '/index',\n      redirect: '/',\n      meta: { requiresAuth: true }\n    }\n  ]\n});\ngenerateIndexRouter();\n\n// 验证token，存在才跳转\nrouter.beforeEach((to, from, next) => {\n  let token = sessionStorage.getItem('token')\n  if(to.path === '/') {\n    if(!token) {\n      next({\n\t\t\t\tpath: '/login',\n\t\t\t\tquery: { redirect: to.fullPath }\n      })\n      return\n    }\n  }\n\n\tif(to.meta.requiresAuth) {\n\t\tif(token) {\n\t\t\tnext()\n\t\t} else {\n\t\t\tnext({\n\t\t\t\tpath: '/login',\n\t\t\t\tquery: { redirect: to.fullPath }\n\t\t\t})\n\t\t}\n\t} else {\n\t\tnext()\n\t}\n});\n\nrouter.afterEach((to, from) => {\n  // 设置面包屑\n  let breadCrumbItems = []\n  let homePageCrumb = {\n    title: '首页',\n    to: '/'\n  }\n  breadCrumbItems.push(homePageCrumb)\n  if(to.meta.nameFullPath) {\n    let fullPathSplit = to.meta.nameFullPath.split('/')\n    fullPathSplit.forEach(( item, index ) => {\n      let routerBreadCrumb = {\n        title: item,\n        to: (index == fullPathSplit.length - 1 ? to.path : '')\n      }\n      breadCrumbItems.push(routerBreadCrumb)\n    });\n  }\n  // 更新到state\n  router.app.$store.dispatch('setBreadcurmbItems', breadCrumbItems)\n})\n\n// 生成首页路由\nfunction generateIndexRouter() {\n  if (!sessionStorage.routers) {\n    return\n  }\n  let indexRouter = {\n    path: \"/\",\n    name: \"/\",\n    component: resolve => require(['@/views/home/index'], resolve),\n    children: [\n      ...generateChildRouters()\n    ]\n  }\n  router.addRoutes([indexRouter])\n}\n\n// 生成嵌套路由（子路由）\nfunction generateChildRouters() {\n  let routers = JSON.parse(sessionStorage.routers)\n  let childRouters = []\n  for(let router of routers) {\n    if(router.code != null) {\n      let routerProps = JSON.parse(router.properties)\n      let childRouter = {\n        path: router.url,\n        name: router.code,\n        component: resolve => require(['@/views/' + router.code + '/index'], resolve),\n        meta: { routerId: router.id, requiresAuth: routerProps.meta.requiresAuth, nameFullPath: routerProps.nameFullPath }\n      }\n      childRouters.push(childRouter)\n    }\n  }\n  return childRouters\n}\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport store from './store'\nimport router from './router'\n\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\n\nVue.config.productionTip = false\n\nVue.use(ElementUI)\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  store,\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import request from '@/utils/request'\n\nexport const getAuthorizedRouter = () =>\n    request({\n        url: '/routers/authorized',\n        method: 'get'\n    })\n\nexport const listRouter = (search) =>\n    request({\n        url: '/routers',\n        method: 'get',\n        params: {\n            offset: search.offset,\n            limit: search.limit,\n            name: search.name\n        }\n    })\n\nexport const getRouterById = (id) =>\n    request({\n        url: '/routers/' + id,\n        method: 'get'\n    })\n\nexport const listByParentId = (parentId) =>\n    request({\n        url: '/routers/search',\n        method: 'get',\n        params: {\n            parentId: parentId\n        }\n    })\n\nexport const saveRouter = (router) =>\n    request({\n        url: '/routers',\n        method: 'post',\n        data: router\n    })\n\nexport const updateRouter = (id, router) =>\n    request({\n        url: '/routers/' + id,\n        method: 'put',\n        data: router\n    })\n\nexport const removeRouter = (id) => \n    request({\n        url: '/routers/' + id,\n        method: 'delete'\n    })\n\nexport const listAllRouter = (includeLocked) =>\n    request({\n        url: '/routers/all?includeLocked=' + includeLocked,\n        method: 'get'\n    })\n\n\n// WEBPACK FOOTER //\n// ./src/api/router.js","<template>\n  <div class=\"login-container\">\n    <el-form class=\"login-form\" :model=\"loginForm\" ref=\"loginForm\" :rules=\"rules\"  label-position=\"left\"\n             label-width=\"0px\" autoComplete=\"on\">\n      <h3 class=\"login_title\">系统登录</h3>\n      <div class=\"login-body\">\n        <el-form-item prop=\"username\">\n          <el-input type=\"text\" v-model=\"loginForm.username\" auto-complete=\"off\" placeholder=\"账号\"></el-input>\n          <div class=\"login-username\" slot=\"prepend\"></div>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input type=\"password\" v-model=\"loginForm.password\" auto-complete=\"off\" placeholder=\"密码\"></el-input>\n          <template slot=\"prepend\"><div class=\"login-password\"></div></template>\n        </el-form-item>\n        <!--<el-checkbox class=\"login_remember\" v-model=\"checked\" label-position=\"left\">记住密码</el-checkbox>-->\n        <el-form-item style=\"width: 100%\">\n          <el-button type=\"primary\" @click.native.prevent=\"doLogin\" style=\"width: 100%\">登录</el-button>\n        </el-form-item>\n      </div>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { getToken } from '@/api/auth'\nimport { getAuthorizedRouter } from '@/api/router'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  data() {\n    return {\n      displayLoading: false,\n      loginForm: {\n        username: 'admin',\n        password: 'admin'\n      },\n      rules: {\n        username: [{ required: true, message: '请输入用户名', trigger: 'blur' }],\n        password: [{ required: true, message: '请输入口令', trigger: 'blur' }]\n      }\n    };\n  },\n  computed: {\n    ...mapGetters(['showLoading'])\n  },\n  methods: {\n    doLogin() {\n      this.$refs['loginForm'].validate(valid => {\n        if (valid) {\n          this.$store.dispatch('setLoading', true)\n          getToken(this.loginForm.username, this.loginForm.password)\n            .then(response => {\n              sessionStorage.setItem('currentUser', JSON.stringify({\n                id: response.data.userId,\n                name: response.data.username\n              }))\n              sessionStorage.setItem('token', response.data.token)\n              sessionStorage.setItem('routers', JSON.stringify(response.data.routers))\n\n              // 初始化首页路由\n              this.initIndexRouter()\n\n              let redirect = decodeURIComponent(\n                this.$route.query.redirect || \"/\"\n              )\n              this.$router.push(redirect);\n              this.$store.dispatch('setLoading', false)\n            })\n            .catch(error => {\n              this.$store.dispatch('setLoading', false)\n              this.$message({\n                showClose: true,\n                message: error,\n                type: 'error'\n              })\n            })\n        }\n      })\n    },\n    initIndexRouter() {\n      let indexRouter = {\n        path: '/',\n        name: \"/\",\n        component: resolve => require(['@/views/home/index'], resolve),\n        children: [...this.generateChildRouters()]\n      }\n      this.$router.addRoutes([indexRouter])\n    },\n    generateChildRouters() {\n\n      if (!sessionStorage.routers) {\n        return []\n      }\n\n      let routers = JSON.parse(sessionStorage.routers)\n      let childRouters = []\n      console.log(routers);\n      for(let router of routers) {\n\n        console.log(router);\n        if(router.code != null) {\n          let routerProps = JSON.parse(router.properties)\n\n          let childRouter = {\n            path: router.url,\n            name: router.code,\n            component: resolve => require(['@/views/' + router.code + '/index'], resolve),\n            meta: { routerId: router.id, requiresAuth: routerProps.meta.requiresAuth, nameFullPath: routerProps.nameFullPath }\n          }\n\n          childRouters.push(childRouter)\n        }\n      }\n\n      return childRouters\n    }\n  }\n}\n</script>\n\n<style>\n  .login-container {\n    border-radius: 15px;\n    background-clip: padding-box;\n    margin: 180px auto;\n    width: 350px;\n    padding: 35px 35px 15px 35px;\n    background: #fff;\n    border: 1px solid #eaeaea;\n    box-shadow: 0 0 25px #cac6c6;\n  }\n  .login_title {\n    margin: 0px auto 40px auto;\n    text-align: center;\n    color: #505458;\n  }\n  .login_remember {\n    margin: 0px 0px 35px 0px;\n    text-align: left;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/login/index.vue","import request from '@/utils/request'\nimport qs from 'qs'\n\nexport const getToken = (loginName, password) => \n    request({\n        url: '/auth/token',\n        method: 'post',\n        data: qs.stringify({\n            loginName,\n            password\n        })\n    })\n\n\n// WEBPACK FOOTER //\n// ./src/api/auth.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('el-form',{ref:\"loginForm\",staticClass:\"login-form\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.rules,\"label-position\":\"left\",\"label-width\":\"0px\",\"autoComplete\":\"on\"}},[_c('h3',{staticClass:\"login_title\"},[_vm._v(\"系统登录\")]),_vm._v(\" \"),_c('div',{staticClass:\"login-body\"},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"off\",\"placeholder\":\"账号\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}}),_vm._v(\" \"),_c('div',{staticClass:\"login-username\",attrs:{\"slot\":\"prepend\"},slot:\"prepend\"})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\",\"placeholder\":\"密码\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}}),_vm._v(\" \"),_c('template',{slot:\"prepend\"},[_c('div',{staticClass:\"login-password\"})])],2),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"100%\"}},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.doLogin($event)}}},[_vm._v(\"登录\")])],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a606497\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a606497\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a606497\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/index.vue\n// module id = null\n// module chunks = ","import axios from 'axios'\n\n// 创建axios实例\nconst service = axios.create({\n    // api的base_url\n    baseURL: process.env.BASE_API,\n    // 请求超时时间\n    timeout: 5000\n})\n\n// request拦截器\nservice.interceptors.request.use(config => {\n    // Do something before request is sent\n    if (sessionStorage.getItem('token')) {\n        // 让每个请求携带token--['X-Token']为自定义key 请根据实际情况自行修改\n        config.headers['X-Token'] = sessionStorage.getItem('token')\n    }\n    return config\n}, error => {\n    // Do something with request error\n    Promise.reject(error)\n})\n\n// respone拦截器\nservice.interceptors.response.use(\n    response => {\n\n        if (response.data.errCode == 2) {\n            router.push({\n                path: \"/login\",\n                // 从哪个页面跳转\n                querry: { redirect: router.currentRoute.fullPath }\n            })\n        }\n        return response;\n    },\n    error => {\n        return Promise.reject(error)\n    })\n\nexport default service\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/request.js"],"sourceRoot":""}